# 事件資料庫檔案 (events.js)

這個檔案包含了遊戲中所有的事件資料。

## 📋 事件結構

每個事件都包含以下屬性：
- `name`: 事件名稱
- `description`: 事件描述
- `effect`: 事件效果
  - `health`: 血量變化 (正數恢復，負數減少)
  - `maxHealth`: 最大血量變化 (可選)
  - `fullHeal`: 是否完全恢復血量 (可選)
  - `instantDeath`: 是否即死 (可選)
  - `message`: 效果提示訊息
- `weight`: 事件權重 (影響出現機率)

## ⚖️ 權重系統

權重系統決定每個事件的出現機率：
- **權重越高 = 出現機率越高**
- **權重越低 = 出現機率越低**
- 總權重 = 所有事件權重的總和
- 每個事件的機率 = 該事件權重 ÷ 總權重

### 權重分級
- **18-15**: 非常常見 (基礎事件)
- **14-10**: 常見 (一般事件)
- **9-6**: 中等 (特殊事件)
- **5-3**: 稀有 (強化事件)
- **2-1**: 極稀有 (傳說事件)

## 🎮 目前包含的事件

### 基礎事件 (權重 18-12)
1. **陷阱** (權重 18) - 減少血量 -15 → 機率 ~17.5%
2. **找到寶箱** (權重 15) - 恢復血量 +20 → 機率 ~14.6%
3. **毒霧** (權重 14) - 減少血量 -20 → 機率 ~13.6%
4. **遭遇怪物** (權重 12) - 減少血量 -30 → 機率 ~11.7%

### 一般事件 (權重 10-6)
5. **友善商人** (權重 10) - 恢復血量 +25 → 機率 ~9.7%
6. **詛咒石碑** (權重 9) - 減少血量 -25 → 機率 ~8.7%
7. **魔法泉水** (權重 8) - 完全恢復血量 → 機率 ~7.8%
8. **聖光祝福** (權重 6) - 恢復血量 +35 → 機率 ~5.8%

### 強化事件 (權重 4-3)
9. **古老神廟** (權重 4) - 最大血量 +15，恢復 +30 → 機率 ~3.9%
10. **生命精華** (權重 3) - 最大血量 +20，恢復 +20 → 機率 ~2.9%

### 傳說事件 (權重 2-1)
11. **惡魔契約** (權重 2) - 最大血量 -10，恢復 +10 → 機率 ~1.9%
12. **龍血寶石** (權重 1) - 最大血量 +30，恢復 +50 → 機率 ~1.0%
13. **生命之樹** (權重 1) - 最大血量 +25，完全恢復 → 機率 ~1.0%
14. **死神的鐮刀** (權重 1) - 💀 即死事件 → 機率 ~1.0%

**總權重**: 104

## 🔧 如何添加新事件

1. 在 `gameEvents` 陣列中添加新的事件物件
2. 確保包含所有必要的屬性
3. 重新載入遊戲即可

### 示例：
```javascript
{
    name: "新事件名稱",
    description: "事件描述文字",
    effect: { 
        health: 10,           // 血量變化
        maxHealth: 5,         // 最大血量變化 (可選)
        fullHeal: false,      // 是否完全恢復 (可選)
        instantDeath: false,  // 是否即死 (可選)
        message: "效果訊息"    // 效果提示
    },
    weight: 10               // 權重 (1-20，數字越大越常見)
}
```

## ⚙️ 權重選擇機制

遊戲使用 `getRandomEventByWeight()` 函數：
1. 計算所有事件的總權重
2. 生成 0 到總權重之間的隨機數
3. 按權重順序遞減，選擇對應的事件
4. 確保每個事件都有機會被選中，但機率不同

## 📁 檔案載入順序

在 `index.html` 中的載入順序：
1. `events.js` - 事件資料庫
2. `game.js` - 主遊戲邏輯

這樣確保遊戲邏輯可以正確訪問事件資料。